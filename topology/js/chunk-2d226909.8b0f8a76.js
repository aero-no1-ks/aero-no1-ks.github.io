(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d226909"],{e8cc:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"resize",rawName:"v-resize",value:e.onResize,expression:"onResize"}],ref:"chart",staticClass:"chartFull"})},s=[],o=i("cb27"),n=i.n(o),r=(i("7cb2"),i("f75f"));const l={type:"bar3D",coordinateSystem:"globe",shading:"realistic",emphasis:{label:{show:!1}},bevelSize:.2,bevelSmoothness:2,minHeight:.2,maxHeight:.2,barSize:.7},h=["#32A7E9","#61E0FC","#9FE6B8","#FFDB5C","#FB8DA7","#ff9f7f","#E690D1","#E062AE","#9d96f5","#32C5E9","#fb7293","#E690D1","#e7bcf3","#67E0E3","#8378EA","#96BFFF"];var c={data:()=>({chart:null,ix:0}),computed:{apList(){return _.take(r["a"],evolution[this.ix].nAP)},enp(){return enp[this.ix]},eSum(){return n.a.round(_.map(this.enp,n.a.sum))},tau(){return n.a.round(n.a.mul(_.map(tau,n.a.sum),pth[this.ix]))},tSum(){return _.map(this.tau,n.a.sum)},g_c(){const e=n.a.div(this.tSum,this.eSum),t=n.a.mul(_.map(e,e=>[_.round(e,2),_.round(1-e,2)]),this.ix+1);return _.map(this.enpRank,({i:e})=>({value:t[e],name:r["a"][e].code,itemStyle:{color:h[e%_.size(h)]}}))},enpRank(){return _.map(this.eSum,(e,t)=>({value:e,i:t})).sort((e,t)=>t.value-e.value)},conus(){return _.map(this.apList,({code:e,lat:t,lon:i},a)=>({name:e,value:[i,t,this.eSum[a]]}))},lines3DConus(){return _.times(10,e=>{return{...l,name:`G${e+1}`,type:"lines3D",data:_.compact(_.map(this.apList,(t,i)=>_.map(this.apList,(a,s)=>{return i!==s&&this.enp[i][s]>0&&[act[this.ix][i][s]]==e?{coords:[[t.lon,t.lat],[a.lon,a.lat]],value:_.round(this.enp[i][s]),lineStyle:{width:i<s?1.5:0,color:h[act[this.ix][i][s]],opacity:.3}}:null})).flat(1)),effect:{show:!0,trailWidth:1.5,trailLength:.1,trailOpacity:.15,trailColor:"white"},blendMode:"lighter"}})},bar3D(){return[{...l,data:this.conus,itemStyle:{color:"rgba(4, 235, 214, 1)"}}]},globe(){return{environment:"./assets/img/starfield.jpg",baseTexture:"./assets/img/earth.jpg",heightTexture:"./assets/img/bathymetry_bw_composite_4k.jpg",globeOuterRadius:100.5,displacementScale:.01,shading:"realistic",viewControl:{autoRotate:!1,targetCoord:[-103.428056,33.636667]},postEffect:{enable:!0},light:{ambient:{intensity:.5},main:{intensity:1}}}},option(){return{color:h,title:{text:`${evolution[this.ix].yt} (AP: ${evolution[this.ix].nAP}; demand: ${_.round(n.a.sum(this.tau)/1e3).toLocaleString()}K; volume: ${_.round(n.a.sum(this.enp)/1e3).toLocaleString()}K)`,textStyle:{color:"white",fontSize:20},x2:0,y:20},legend:{textStyle:{color:"white"},data:["G1","G2","G3","G4","G5","G6","G7","G8","G9","G10"]},tooltip:{},xAxis:[{type:"category",data:_.map(_.take(this.enpRank,50),({i:e})=>r["a"][e].code),splitLine:{show:0},axisLine:{show:0},axisTick:{show:0},axisLabel:{textStyle:{color:"white"}}},{type:"category",data:_.map(_.take(this.enpRank,50),({i:e})=>r["a"][e].code),splitLine:{show:0},axisLine:{show:0},axisTick:{show:0},axisLabel:{textStyle:{color:"white"}},gridIndex:1},{name:"G",nameTextStyle:{color:"white"},type:"value",splitLine:{show:0},axisLine:{show:0},axisTick:{show:0},axisLabel:{textStyle:{color:"white"}},max:10,gridIndex:2}],yAxis:[{type:"value",splitLine:{show:0},axisLine:{show:0},axisTick:{show:0},axisLabel:{textStyle:{color:"white"},formatter:e=>_.round(e/1e3)},max:13e4,name:"volume (k)".toUpperCase(),nameTextStyle:{color:"white"}},{type:"value",splitLine:{show:0},axisLine:{show:0},axisTick:{show:0},axisLabel:{textStyle:{color:"white"},formatter:e=>_.round(e/1e3)},max:13e4,name:"demand (k)".toUpperCase(),nameTextStyle:{color:"white"},gridIndex:1},{name:"C",nameTextStyle:{color:"white"},type:"value",splitLine:{show:0},axisLine:{show:0},axisTick:{show:0},axisLabel:{textStyle:{color:"white"}},max:10,gridIndex:2}],grid:[{containLabel:1,x:10,width:"20%",y:35,height:"15%"},{containLabel:1,x:10,width:"20%",y2:10,height:"15%"},{show:!0,containLabel:1,x2:10,width:270,y2:10,height:270,splitArea:{show:1}}],globe:this.globe,series:[...this.bar3D,...this.lines3DConus,{type:"bar",data:_.take(this.enpRank,50),itemStyle:{color:"yellow",barBorderRadius:[5,5,0,0]}},{type:"bar",data:_.map(_.take(this.enpRank,50),({i:e})=>this.tau[e]),itemStyle:{color:"yellow",barBorderRadius:[5,5,0,0]},xAxisIndex:1,yAxisIndex:1},{type:"scatter",data:_.take(this.g_c,10),itemStyle:{borderWidth:.5,borderColor:"white"},label:{},xAxisIndex:2,yAxisIndex:2}]}}},methods:{drawChart(){this.chart&&(this.chart.setOption(this.option),this.chart.resize())},onResize(e=100){this.chart&&_.debounce(this.chart.resize,e)()}},watch:{option(e){this.chart&&this.chart.setOption(e)}},mounted(){this.chart=echarts.init(this.$refs.chart),this.drawChart();const e=()=>{this.ix=(this.ix+1)%_.size(evolution),_.delay(e,3e3)};_.delay(e,3e3)}},u=c,d=i("2877"),p=i("269a"),m=i.n(p),x=i("dc22"),w=Object(d["a"])(u,a,s,!1,null,null,null);t["default"]=w.exports;m()(w,{Resize:x["a"]})}}]);