(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["t-100"],{"0e67":function(t,e,a){},"29a1":function(t,e,a){"use strict";var s=a("38f0"),i=a.n(s);i.a},"38f0":function(t,e,a){},"6e6f":function(t,e,a){"use strict";var s=a("0e67"),i=a.n(s);i.a},b3c5:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",{staticClass:"pa-1",attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"pa-1",attrs:{xs12:t.large,xs7:""}},[a("v-card",[a("v-layout",{staticClass:"subheading pa-2 grey darken-1",attrs:{row:""}},[a("v-flex",{staticStyle:{"max-width":"415px"}},[a("v-icon",{staticClass:"subheading bold vertical-middle mr-1"},[t._v("public")]),a("span",{staticClass:"bold"},[t._v("T-100D Top "+t._s(t.num)+" Segments (selected: "+t._s(t.name||"N/A")+")")])],1),a("v-flex",[a("v-switch",{staticClass:"pa-0 ma-0",attrs:{color:"primary","hide-details":"",label:"Enlarge"},model:{value:t.large,callback:function(e){t.large=e},expression:"large"}})],1)],1),a("v-divider"),a("T100DMarket",{style:t.largeStyle,attrs:{items:t.rankSM,num:t.num,refresh:t.large},on:{onSetIndex:t.onSetIndex}})],1)],1),a("v-slide-y-transition",[a("v-flex",{directives:[{name:"show",rawName:"v-show",value:!t.large,expression:"!large"}],staticClass:"pa-1",attrs:{xs5:""}},[a("T100DSegment",{attrs:{index:t.index,name:t.name}})],1)],1)],1)],1)},i=[],r=a("2f62"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"resize",rawName:"v-resize",value:t.onResize,expression:"onResize"}],ref:"echartsMapPaneT100D",staticStyle:{width:"100%",height:"100%"}})},o=[],l={props:["items","refresh","num"],data:()=>({chart:null}),computed:{...Object(r["c"])(["airport","color","areaColor","effectTrail","effectLines"]),arr(){return _.slice(this.items,0,this.num)},apList(){const t=[];return _.each(this.arr,e=>{_.includes(t,e.i)||t.push(e.i),_.includes(t,e.j)||t.push(e.j)}),t},apName(){return _.map(this.arr,t=>`${this.airport[t.i].code}<->${this.airport[t.j].code}`)},center(){const[t,e]=[_.map(this.apList,t=>this.airport[t].lon),_.map(this.apList,t=>this.airport[t].lat)];return[_.sum(t)/_.size(t),_.sum(e)/_.size(e)]}},methods:{drawChart(t="usa"){const e=[..._.map(this.apList,(t,e)=>({name:this.airport[t].code,type:"effectScatter",coordinateSystem:"geo",rippleEffect:{brushType:"stroke"},label:{normal:{show:!0,position:"right",formatter:"{b}",distance:10}},symbolSize:10,data:[{name:this.airport[t].code,value:[this.airport[t].lon,this.airport[t].lat,_.max([30,_.round(this.arr[e].e/1e3,2)])]}]})),..._.map(this.arr,(t,e)=>({name:this.apName[e],type:"lines",symbol:["arrow","arrow"],symbolSize:10,effect:this.effectLines,lineStyle:{width:1.5,curveness:0,opacity:.5},data:this.convertData(t)})),{type:"bar",data:_.map(this.arr,(t,e)=>({name:this.apName[e],value:t.e})),itemStyle:{normal:{color:this.$vuetify.theme.primary,barBorderRadius:[0,3,3,0]},emphasis:{color:"#F7F494",shadowBlur:10,shadowColor:"rgba(205, 205, 205, 0.6)"}}}],a={textStyle:{fontFamily:"Poppins, sans-serif",fontSize:14,fontWeight:"bold"},backgroundColor:"#424242",tooltip:{trigger:"item"},legend:{show:!1},geo:{map:t,label:{emphasis:{show:!1}},height:"66%",center:this.center,roam:!0,zoom:1.25,itemStyle:{normal:{areaColor:this.areaColor,borderColor:"#5D5D5D"},emphasis:{areaColor:this.$vuetify.theme.primary}}},grid:{left:10,top:"70%",right:10,bottom:60,containLable:!0},xAxis:{type:"category",data:this.apName,axisLabel:{textStyle:{color:"#FFFFFF"},rotate:45}},yAxis:{type:"value",axisLabel:{show:!1},axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!1}},series:e};this.chart.setOption(a,!0)},getCoords(t){return[this.airport[t].lon,this.airport[t].lat]},convertData(t){return[{fromName:this.airport[t.i].code,toName:this.airport[t.j].code,coords:[this.getCoords(t.i),this.getCoords(t.j)]}]},onResize(){this.chart&&this.chart.resize()}},watch:{num(t){this.drawChart()},arr(t){this.drawChart()},refresh(t){this.onResize()}},created(){},mounted(){_.delay(()=>{this.chart=echarts.init(this.$refs.echartsMapPaneT100D,"chalk"),this.drawChart(),this.chart.on("click",t=>{this.$emit("onSetIndex",t.data.name,t.dataIndex);const e=_.map(this.chart.getOption().series,(e,a)=>{return"lines"!==e.type?e:(e.lineStyle.width=t.data.name===e.name?8:1.5,e.lineStyle.opacity=t.data.name===e.name?1:.5,e.lineStyle.shadowBlur=t.data.name===e.name?10:0,e.lineStyle.shadowColor=t.data.name===e.name?"white":"rgba(0, 0, 0, 0)",e)});this.chart.setOption({series:e})})},1)}},c=l,h=a("2877"),d=Object(h["a"])(c,n,o,!1,null,null,null);d.options.__file="T100DMarket.vue";var u=d.exports,p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",{staticClass:"subheading",attrs:{row:""}},[a("v-flex",{staticClass:"pr-1",attrs:{xs6:""}},[a("v-card",[a("v-layout",{staticClass:"grey darken-1",attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"pa-2",attrs:{xs12:""}},[a("v-icon",{staticClass:"subheading bold vertical-middle mr-1"},[t._v("flight")]),a("span",{staticClass:"bold"},[t._v("Aircraft Breakdown")])],1),a("v-flex",{attrs:{xs12:""}},[a("v-card",{staticClass:"pa-2"},[a("p",[t._v("\n                "+t._s(t.items.enp)+"\n              ")]),t._l(t.items.data,function(e,s){return a("p",{key:s},[t._v("\n                "+t._s(e)+"\n                "),a("v-card",[a("v-img",{attrs:{src:t.aircraft[s%2].src,"aspect-ratio":1.6}})],1)],1)})],2)],1)],1)],1)],1),a("v-flex",{staticClass:"pl-1",attrs:{xs6:""}},[a("v-card",[a("v-layout",{staticClass:"grey darken-1",attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"pa-2",attrs:{xs12:""}},[a("v-icon",{staticClass:"subheading bold vertical-middle mr-1"},[t._v("airline_seat_recline_normal")]),a("span",{staticClass:"bold"},[t._v("Passenger Breakdown")])],1),a("v-flex",{attrs:{xs12:""}},[a("v-card",{staticClass:"pa-2"},[a("p",[t._v("\n                "+t._s(t.items.enp)+"\n              ")]),t._l(t.items.data,function(e,s){return a("p",{key:s},[t._v("\n                "+t._s(e)+"\n                "),a("v-card",[a("v-img",{attrs:{src:t.aircraft[s%2].src,"aspect-ratio":1.6}})],1)],1)})],2)],1)],1)],1)],1)],1)],1)},f=[],v={props:["index","name"],data:()=>({aircraft:[{name:"Airbus Industrie A320-100/200",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/72/D-AIAF_%2819552328044%29.jpg/600px-D-AIAF_%2819552328044%29.jpg"},{name:"Embraer ERJ-175",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f3/E190_N316JB_at_DCA.jpg/600px-E190_N316JB_at_DCA.jpg"}]}),computed:{...Object(r["c"])(["airport"]),names(){return this.name?this.name.split("<->"):["LAX","SFO"]},items(){const t=_.findIndex(this.airport,t=>t.code===this.names[0]),e=_.findIndex(this.airport,t=>t.code===this.names[1]);return T100D[t][e]||{}},paxInfo(){if(!_.size(this.names))return[];const t=[];let e=0;const a=_.filter(chartData,t=>_.includes([t.info.ori,t.info.des],this.names[0])&&_.includes([t.info.ori,t.info.des],this.names[1]));_.each(a,t=>{const a=_.filter(t.data.major,t=>!_.size(t.hub)),s=_.filter(t.data.minor,t=>!_.size(t.hub));e+=_.max([_.sumBy(a,"tau"),0])+_.max([_.sumBy(s,"tau"),0])}),t.push({type:"direct",enp:10*e});let s=0;const i=_.filter(chartData,t=>!_.includes([t.info.ori,t.info.des],this.names[0])&&!_.includes([t.info.ori,t.info.des],this.names[1]));_.each(i,t=>{const e=_.filter(t.data.major,t=>t.hub==this.names||t.hub==_.reverse(this.names));_.filter(t.data.minor,t=>t.hub==this.names||t.hub==_.reverse(this.names));s+=_.max([_.sumBy(e,"tau"),0])+_.max([_.sumBy(e,"tau"),0])}),t.push({type:"not-od",enp:10*s});let r=0;const n=_.filter(chartData,t=>!_.includes([t.info.ori,t.info.des],this.names[0])&&_.includes([t.info.ori,t.info.des],this.names[1])||_.includes([t.info.ori,t.info.des],this.names[1])&&!_.includes([t.info.ori,t.info.des],this.names[0]));return _.each(n,t=>{r+=_.max([_.sumBy(_.filter(t.data.major,e=>t.info.ori===this.names[0]&&e.hub[0]===this.names[1]),"tau"),0])+_.max([_.sumBy(_.filter(t.data.major,e=>t.info.ori===this.names[1]&&e.hub[0]===this.names[0]),"tau"),0])+_.max([_.sumBy(_.filter(t.data.major,e=>t.info.des===this.names[0]&&e.hub[0]===this.names[1]),"tau"),0])+_.max([_.sumBy(_.filter(t.data.major,e=>t.info.des===this.names[1]&&e.hub[0]===this.names[0]),"tau"),0])+_.max([_.sumBy(_.filter(t.data.minor,e=>t.info.ori===this.names[0]&&e.hub[0]===this.names[1]),"tau"),0])+_.max([_.sumBy(_.filter(t.data.minor,e=>t.info.ori===this.names[1]&&e.hub[0]===this.names[0]),"tau"),0])+_.max([_.sumBy(_.filter(t.data.minor,e=>t.info.des===this.names[0]&&e.hub[0]===this.names[1]),"tau"),0])+_.max([_.sumBy(_.filter(t.data.minor,e=>t.info.des===this.names[1]&&e.hub[0]===this.names[0]),"tau"),0])}),t.push({type:"indirect",enp:10*r}),t}},methods:{},watch:{paxInfo(t){m(1,t)}},created(){},mounted(){}},x=v,y=(a("29a1"),Object(h["a"])(x,p,f,!1,null,null,null));y.options.__file="T100DSegment.vue";var b=y.exports,g={data:()=>({ii:null,jj:null,large:!1,name:null,index:"",num:50}),computed:{...Object(r["c"])(["airport"]),rankAP(){return _.orderBy(_.map(T100D,(t,e)=>({idx:e,sum:_.sumBy(t,"enp")})),["sum"],["desc"])},rankSM(){const t=[];return _.each(T100D,(e,a)=>{_.each(e,(e,s)=>{a<s&&t.push({i:a,j:s,e:_.round(((e.enp||0)+(T100D[s][a].enp||0))/365,2)})})}),_.orderBy(_.filter(t,t=>t.e),["e"],["desc"])},selectedAP(){return this.ii?{i:this.ii,code:this.airport[this.ii].code}:""},selectedT100D(){const t=_.compact(_.map(T100D[this.ii],(t,e)=>{if(t.enp)return{i:e,code:this.airport[e].code,enp:t.enp}}));return _.size(t)?t:""},largeStyle(){return{height:"calc(100vh - 64px - 56px)"}}},methods:{onClick(){this.ii=_.random(_.size(this.airport)-1)},onSetIndex(t,e){this.name=t,this.index=e}},created(){},mounted(){},components:{T100DMarket:u,T100DSegment:b}},w=g,C=(a("6e6f"),Object(h["a"])(w,s,i,!1,null,null,null));C.options.__file="_T-100.vue";e["default"]=C.exports}}]);