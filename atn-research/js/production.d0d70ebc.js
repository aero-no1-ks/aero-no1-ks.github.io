(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["production"],{"1ccb":function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"resize",rawName:"v-resize",value:t.onResize,expression:"onResize"}],ref:"echartsInstance",staticStyle:{width:"100%",height:"100%"}})},s=[],i=r("2f62"),o={props:["isArrival","center","items","map","large","slider","xycor"],data:()=>({chart:null,series:null,option:null}),computed:{...Object(i["c"])(["airport","color","areaColor","effectLines","effectTrail"])},methods:{drawChart2d(t=!1,e=!1,r="usa"){this.series&&!t||(this.series=[{name:this.center.ap,type:"effectScatter",zLevel:10,coordinateSystem:"geo",rippleEffect:{brushType:"stroke"},label:{normal:{show:!0,position:"right",formatter:"{b}",distance:10}},symbolSize:10,tooltip:{formatter:`{b} - ${this.center.tau}`},data:[{name:this.center.ap,value:[...this.getCoords(this.center.ap),100]}]},..._.map(this.items,(t,e)=>({name:t.ap,type:"scatter",coordinateSystem:"geo",label:{normal:{show:!0,position:"right",formatter:"{b}",distance:10}},symbolSize:5,tooltip:{formatter:`{b} - ${t.tau} (${t.ratio}%)`},data:[{name:t.ap,value:[...this.getCoords(t.ap),_.min([_.max([20,t.ratio]),80])]}]})),..._.map(this.items,(t,e)=>({name:t.ap,type:"lines",zlevel:2,large:!0,tooltip:{formatter:`{a}{b}{c} - ${t.tau} (${t.ratio}%)`},lineStyle:{color:"cyan",width:2.5,curveness:0,opacity:.9},data:[{fromName:this.center.ap,toName:t.ap,coords:[this.getCoords(this.center.ap),this.getRatioCoords(this.center.ap,t.ap,.3)]}]})),..._.map(this.items,(t,e)=>({name:t.ap,type:"lines",zlevel:3,effect:this.effectLines,large:!0,silent:!0,lineStyle:{color:"rgb(255, 237, 0)",width:1.5,curveness:0,opacity:.4,type:"dotted"},data:this.isArrival?[{fromName:t.ap,toName:this.center.ap,coords:[this.getCoords(t.ap),this.getCoords(this.center.ap)]}]:[{fromName:this.center.ap,toName:t.ap,coords:[this.getCoords(this.center.ap),this.getCoords(t.ap)]}]}))]),this.option&&!t||(this.option={textStyle:{fontFamily:"Poppins, sans-serif",fontSize:14,fontWeight:"bold"},title:{text:`${this.center.ap} (total: ${this.center.tau})`,bottom:5,left:5,fontSize:12,textStyle:{color:"#FFFFFF"}},tooltip:{trigger:"item"},geo:{map:r,label:{emphasis:{show:!1}},silent:!0,center:this.xycor,roam:!0,zoom:1.4,itemStyle:{normal:{areaColor:this.areaColor,borderColor:"#989898"},emphasis:{areaColor:this.$vuetify.theme.primary}}},series:this.series}),this.chart.setOption(this.option,e)},getCoords(t){const e=_.find(this.airport,e=>e.code===t);return[e.lon,e.lat]},convertData(t,e){const r=e||this.center.ap,a=this.getCoords(r),s=this.getCoords(t);return[{fromName:r,toName:t,coords:[a,s]}]},getRatioCoords(t,e,r=.3){const a=this.getCoords(t),s=this.getCoords(e);return[(1-r)*a[0]+r*s[0],(1-r)*a[1]+r*s[1]]},onResize(){this.chart&&debounce(this.chart.resize,200)()}},watch:{xycor(t){this.drawChart2d(!0,!0)},large(t){this.onResize()},map(t){this.drawChart2d(!1,!1,t?"world":"usa")}},mounted(){_.delay(()=>{this.chart=echarts.init(this.$refs.echartsInstance,"chalk",{renderer:"canvas"}),this.drawChart2d(!1,!0)},1)}},n=o,l=r("2877"),c=Object(l["a"])(n,a,s,!1,null,null,null);c.options.__file="MapPane.vue";e["a"]=c.exports},"780a":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{staticClass:"pa-1",attrs:{row:"",wrap:""}},[r("v-flex",{staticClass:"px-1",attrs:{xs12:""}},[r("v-btn-toggle",{staticClass:"ma-0 pa-0",attrs:{mandatory:""},model:{value:t.index,callback:function(e){t.index=e},expression:"index"}},t._l(t.tooltipItems,function(e,a){return r("v-tooltip",{key:a,attrs:{bottom:"",color:"primary"}},[r("v-btn",{attrs:{slot:"activator",flat:""},slot:"activator"},[t._v("\n          "+t._s(e.title)+"\n        ")]),r("span",[t._v(t._s(e.description))])],1)}),1),r("v-menu",{attrs:{"offset-y":""}},[r("v-btn",{staticClass:"mx-2",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[t._v("\n        Enlarge\n      ")]),r("v-list",t._l(["Shrink"].concat(t.oriArrFull),function(e,a){return r("v-list-tile",{key:a,on:{click:function(e){t.large=a-1}}},[r("v-list-tile-title",[t._v(t._s(e))])],1)}),1)],1),r("v-menu",{attrs:{"offset-y":""}},[r("v-btn",{staticClass:"mx-0",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[t._v("\n        Top "+t._s(t.slider)+" travels\n      ")]),r("v-list",t._l(t.cut,function(e){return r("v-list-tile",{key:e,on:{click:function(r){t.slider=e}}},[r("v-list-tile-title",[t._v(t._s(e))])],1)}),1)],1)],1),r("v-flex",{attrs:{xs12:""}},[r("v-layout",{attrs:{row:"",wrap:""}},[t._l(t.items,function(e,a){return[r("v-flex",{key:a,staticClass:"pa-1",style:t.setShow(a),attrs:{xs4:!t.isLarge(a),xs12:t.isLarge(a)}},[r("v-card",{attrs:{dark:""}},[r("app-map-pane",{style:t.largeStyle(a),attrs:{center:t.getCenter(t.center[a]),items:e,map:t.map,large:t.large,slider:t.slider,xycor:t.xycor}})],1)],1)]})],2)],1)],1)},s=[],i=r("2f62"),o=r("1ccb"),n={data:()=>({index:0,cut:10,map:!1,isRelative:!1,large:-1,slider:10,tooltipItems:[{title:"Total",icon:"looks_3",description:"total rankings"},{title:"To destination",icon:"looks_one",description:"direct flights"},{title:"To hub",icon:"looks_two",description:"to hub (1st stop of indirect flights)"}]}),computed:{...Object(i["c"])(["oriArr","dataOri","airport"]),...Object(i["b"])(["oriArrFull"]),center(){return _.map(this.oriArr,t=>_.find(this.dataOri,e=>t===e.ap))},prop(){return["total","stopx","stopy"][this.index]},items(){return _.map(this.center,(t,e)=>_.map(_.slice(t[this.prop],0,this.slider),t=>({ap:t.ap,tau:t.tau,ratio:_.round(t.tau/this.center[e].tau*100,2)})))},aps(){return _.uniq([...this.oriArr,..._.map(_.flattenDeep(this.items),"ap")])},xycor(){const t=_.map(this.aps,this.getCoords),e=_.size(t);return[_.sumBy(t,"lon")/e,_.sumBy(t,"lat")/e]}},methods:{isLarge(t){return this.large===t},largeStyle(t){return{height:this.isLarge(t)?"calc(100vh - 66px - 56px - 6px)":"calc(50vh - 66px - 2px)"}},setShow(t){return{display:-1===this.large||this.isLarge(t)?"":"none"}},getCenter(t){return{ap:t.ap,tau:t.tau}},getCoords(t){const e=_.find(this.airport,e=>e.code===t);return{lon:e.lon,lat:e.lat}}},watch:{},created(){},mounted(){},components:{"app-map-pane":o["a"]}},l=n,c=(r("f7ae"),r("2877")),p=Object(c["a"])(l,a,s,!1,null,null,null);p.options.__file="_Production.vue";e["default"]=p.exports},9005:function(t,e,r){},f7ae:function(t,e,r){"use strict";var a=r("9005"),s=r.n(a);s.a}}]);