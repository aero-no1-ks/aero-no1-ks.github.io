(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["t-100"],{"0361":function(t,e,a){"use strict";var s=a("63b1"),i=a.n(s);i.a},"63b1":function(t,e,a){},b3c5:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",{staticClass:"pa-1",attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"pa-1",attrs:{xs12:t.large,xs7:""}},[a("v-card",[a("v-layout",{staticClass:"subheading pa-2 grey darken-1",attrs:{row:""}},[a("v-flex",{staticStyle:{"max-width":"415px"}},[a("v-icon",{staticClass:"subheading bold vertical-middle mr-1"},[t._v("public")]),a("span",{staticClass:"bold"},[t._v("T-100D Top "+t._s(t.num)+" Segments (selected: "+t._s(t.name||"N/A")+")")])],1),a("v-flex",[a("v-switch",{staticClass:"pa-0 ma-0",attrs:{color:"primary","hide-details":"",label:"Enlarge"},model:{value:t.large,callback:function(e){t.large=e},expression:"large"}})],1)],1),a("v-divider"),a("T100Graph",{style:t.largeStyle,attrs:{items:t.items,refresh:t.large,apList:t.apList,apName:t.apName,uniqAP:t.uniqAP},on:{onSetIndex:t.onSetIndex}})],1)],1),a("v-slide-y-transition",[a("v-flex",{directives:[{name:"show",rawName:"v-show",value:!t.large,expression:"!large"}],staticClass:"pa-1",attrs:{xs5:""}},[a("T100Table",{attrs:{items:t.items,index:t.index,name:t.name,apList:t.apList,apName:t.apName,uniqAP:t.uniqAP}})],1)],1)],1)],1)},i=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"resize",rawName:"v-resize",value:t.onResize,expression:"onResize"}],ref:"echartsMapPaneT100D",staticStyle:{width:"100%",height:"100%"}})},n=[],o=a("2f62"),l={props:["items","refresh","apList","apName","uniqAP"],data:()=>({chart:null,index:0,name:"LAX<->SFO"}),computed:{...Object(o["c"])(["airportWorld","color","areaColor","effectTrail","effectLines"]),center(){const[t,e]=[_.map(this.uniqAP,t=>this.getCoords(t)[0]),_.map(this.uniqAP,t=>this.getCoords(t)[1])];return[_.sum(t)/_.size(t),_.sum(e)/_.size(e)]}},methods:{drawChart(t="usa"){const e=[..._.map(this.uniqAP,(t,e)=>({name:t,type:"effectScatter",coordinateSystem:"geo",rippleEffect:{brushType:"stroke"},label:{normal:{show:!0,position:"right",formatter:"{b}",distance:10}},symbolSize:5,data:[{name:t,value:[this.getCoords(t)[0],this.getCoords(t)[1],20]}]})),..._.map(this.items,(t,e)=>({name:this.apName[e],type:"lines",symbol:["none","none"],symbolSize:10,effect:this.effectLines,lineStyle:{width:this.index===e?8:1.5,opacity:this.index===e?1:.5,shadowBlur:this.index===e?10:0,shadowColor:this.index===e?"white":"rgba(0, 0, 0, 0)",curveness:0},data:this.convertData(t)})),{type:"bar",data:_.map(this.items,(t,e)=>({name:this.apName[e],value:t.enp,itemStyle:{normal:{color:this.index===e?"#F7F494":this.$vuetify.theme.primary}}})),itemStyle:{normal:{barBorderRadius:[3,3,0,0]},emphasis:{color:"#F7F494",shadowBlur:10,shadowColor:"rgba(205, 205, 205, 0.6)"}}}],a={textStyle:{fontFamily:"Poppins, sans-serif",fontSize:14,fontWeight:"bold"},backgroundColor:"#424242",tooltip:{trigger:"item"},legend:{show:!1},geo:{map:t,label:{emphasis:{show:!1}},height:"66%",roam:!0,zoom:1.25,itemStyle:{normal:{areaColor:this.areaColor,borderColor:"#5D5D5D"},emphasis:{areaColor:this.$vuetify.theme.primary}}},grid:{left:10,top:"70%",right:10,bottom:60,containLable:!0},xAxis:{type:"category",data:this.apName,axisLabel:{textStyle:{color:"#FFFFFF"},rotate:45}},yAxis:{type:"value",axisLabel:{show:!1},axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!1}},series:e};this.chart.setOption(a,!0)},getCoords(t){const{lon:e,lat:a}=_.find(this.airportWorld,e=>e.code===t);return[e,a]},convertData(t){return[{fromName:t.ap[0],toName:t.ap[1],coords:[this.getCoords(t.ap[0]),this.getCoords(t.ap[1])]}]},onResize(){this.chart&&this.chart.resize()}},watch:{items(t){this.drawChart()},refresh(t){this.onResize()}},created(){},mounted(){_.delay(()=>{this.chart=echarts.init(this.$refs.echartsMapPaneT100D,"chalk"),this.drawChart(),this.chart.on("click",t=>{this.$emit("onSetIndex",t.data.name,t.dataIndex),this.index=t.dataIndex,this.name=t.data.name,this.drawChart(),m(1,this.index,this.name)})},1)}},c=l,d=a("2877"),h=Object(d["a"])(c,r,n,!1,null,null,null);h.options.__file="T100Graph.vue";var u=h.exports,p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"scrollPane"}},[a("v-layout",{staticClass:"subheading",attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"pr-1",attrs:{xs12:""}},[a("vue-perfect-scrollbar",{staticClass:"breakdown--scroll",attrs:{settings:t.scrollSettings}},[a("v-card",[a("v-layout",{staticClass:"grey darken-1",attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"pa-2",attrs:{xs12:""}},[a("v-icon",{staticClass:"subheading bold vertical-middle mr-1"},[t._v("flight")]),a("span",{staticClass:"bold"},[t._v("Operation Breakdown (daily)")])],1),a("v-flex",{attrs:{xs12:""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.item.data,"hide-actions":"",pagination:t.pagination,"hide-details":""},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"text-xs-center ma-1 py-0 px-1",on:{mouseover:t.onMouseEnter}},[t._v(t._s(e.item.al))]),a("td",{staticClass:"text-xs-left ma-1 pa-0"},[t._v(t._s(t.getACName(e.item.acT)))]),a("td",{staticClass:"text-xs-center ma-1 py-0 px-1"},[t._v(t._s(t.round(e.item.ops,1)))]),a("td",{staticClass:"text-xs-center ma-1 py-0 px-1"},[t._v(t._s(t.round(e.item.enp,1)))]),a("td",{staticClass:"text-xs-center ma-0 py-0 px-1"},[t._v(t._s(e.item.lf))])]}}])},[a("template",{slot:"no-data"},[a("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[t._v("\n                    Sorry, nothing to display here :(\n                  ")])],1)],2)],1)],1)],1)],1)],1),a("v-flex",{staticClass:"pl-1",attrs:{xs12:""}},[a("v-card",[a("vue-perfect-scrollbar",{staticClass:"breakdown--scroll",attrs:{settings:t.scrollSettings}},[a("v-layout",{staticClass:"grey darken-1",attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"pa-2",attrs:{xs12:""}},[a("v-icon",{staticClass:"subheading bold vertical-middle mr-1"},[t._v("airline_seat_recline_normal")]),a("span",{staticClass:"bold"},[t._v("Passenger Breakdown")])],1),a("v-flex",{attrs:{xs12:""}},[a("v-card",{staticClass:"pa-2"},[a("p",[t._v("\n                  "+t._s(t.item.enp)+"\n                ")]),t._l(t.item.data,function(e,s){return a("p",{key:s},[t._v("\n                  "+t._s(e)+"\n                  "),a("v-card",[a("v-img",{attrs:{src:t.aircraftArr[s%3].src,"lazy-src":t.aircraftArr[s%3].src,"aspect-ratio":1.6}},[a("v-layout",{staticClass:"ma-0",attrs:{slot:"placeholder","fill-height":"","align-center":"","justify-center":""},slot:"placeholder"},[a("v-progress-circular",{attrs:{indeterminate:"",color:"grey lighten-5"}})],1)],1)],1)],1)})],2)],1)],1)],1)],1)],1)],1)],1)},f=[],x=a("9d63"),v=a.n(x),g={props:["items","index","name","apList","apName","uniqAP"],data:()=>({scrollSettings:{maxScrollbarLength:400},aircraftArr:[{name:"Airbus Industrie A320-100/200",src:"http://upload.wikimedia.org/wikipedia/commons/6/6a/British_Airways_A320-100_G-BUSB.jpg"},{name:"Embraer ERJ-175",src:"https://worldairlinenews.files.wordpress.com/2014/03/united-express-skywest-erj-175-pr-eed-co-91grd-sjk-embraerlr.jpg"},{name:"Boeing 737-700/700LR/Max 7",src:"http://www.flugzeuginfo.net/acimages/7377bbj_kp.jpg"}],headers:[{text:"airline",sortable:!1,value:"al"},{text:"aircraft",sortable:!1,value:"acT"},{text:"operaton",sortable:!0,value:"ops"},{text:"volume",sortable:!0,value:"enp"},{text:"avg. LF",sortable:!0,value:"lf"}],pagination:{descending:!0,rowsPerPage:10,sortBy:"enp"}}),computed:{...Object(o["c"])(["aircraft","airline"]),names(){return this.name?this.name.split("<->"):["LAX","SFO"]},item(){return this.items[this.index]},paxInfo(){if(!_.size(this.names))return[];const t=[];let e=0;const a=_.filter(chartData,t=>_.includes([t.info.ori,t.info.des],this.names[0])&&_.includes([t.info.ori,t.info.des],this.names[1]));_.each(a,t=>{const a=_.filter(t.data.major,t=>!_.size(t.hub)),s=_.filter(t.data.minor,t=>!_.size(t.hub));e+=_.max([_.sumBy(a,"tau"),0])+_.max([_.sumBy(s,"tau"),0])}),t.push({type:"direct",enp:10*e});let s=0;const i=_.filter(chartData,t=>!_.includes([t.info.ori,t.info.des],this.names[0])&&!_.includes([t.info.ori,t.info.des],this.names[1]));_.each(i,t=>{const e=_.filter(t.data.major,t=>t.hub==this.names||t.hub==_.reverse(this.names));_.filter(t.data.minor,t=>t.hub==this.names||t.hub==_.reverse(this.names));s+=_.max([_.sumBy(e,"tau"),0])+_.max([_.sumBy(e,"tau"),0])}),t.push({type:"not-od",enp:10*s});let r=0;const n=_.filter(chartData,t=>!_.includes([t.info.ori,t.info.des],this.names[0])&&_.includes([t.info.ori,t.info.des],this.names[1])||_.includes([t.info.ori,t.info.des],this.names[1])&&!_.includes([t.info.ori,t.info.des],this.names[0]));return _.each(n,t=>{r+=_.max([_.sumBy(_.filter(t.data.major,e=>t.info.ori===this.names[0]&&e.hub[0]===this.names[1]),"tau"),0])+_.max([_.sumBy(_.filter(t.data.major,e=>t.info.ori===this.names[1]&&e.hub[0]===this.names[0]),"tau"),0])+_.max([_.sumBy(_.filter(t.data.major,e=>t.info.des===this.names[0]&&e.hub[0]===this.names[1]),"tau"),0])+_.max([_.sumBy(_.filter(t.data.major,e=>t.info.des===this.names[1]&&e.hub[0]===this.names[0]),"tau"),0])+_.max([_.sumBy(_.filter(t.data.minor,e=>t.info.ori===this.names[0]&&e.hub[0]===this.names[1]),"tau"),0])+_.max([_.sumBy(_.filter(t.data.minor,e=>t.info.ori===this.names[1]&&e.hub[0]===this.names[0]),"tau"),0])+_.max([_.sumBy(_.filter(t.data.minor,e=>t.info.des===this.names[0]&&e.hub[0]===this.names[1]),"tau"),0])+_.max([_.sumBy(_.filter(t.data.minor,e=>t.info.des===this.names[1]&&e.hub[0]===this.names[0]),"tau"),0])}),t.push({type:"indirect",enp:10*r}),t}},methods:{getALName(t){return _.find(this.airline,e=>e.code===t).name},getACName(t){return _.find(this.aircraft,e=>e.type===t).name},round(t,e){return _.round(t/365,e)},onMouseEnter(){}},watch:{item(t){m(111,t)}},created(){},mounted(){},components:{VuePerfectScrollbar:v.a}},b=g,y=(a("0361"),Object(d["a"])(b,p,f,!1,null,null,null));y.options.__file="T100Table.vue";var w=y.exports,C={data:()=>({ii:null,jj:null,large:!1,name:"LAX<->SFO",index:0,num:75}),computed:{items(){return _.slice(T100D,0,this.num)},apList(){return _.map(this.items,"ap")},apName(){return _.map(this.apList,t=>_.join(t,"<->"))},uniqAP(){const t=[];return _.each(this.apList,e=>{_.each(_.flatten(e),e=>{_.includes(t,e)||t.push(e)})}),t},largeStyle(){return{height:"calc(100vh - 64px - 56px)"}}},methods:{onSetIndex(t,e){this.name=t,this.index=e}},created(){},mounted(){},components:{T100Graph:u,T100Table:w}},S=C,A=Object(d["a"])(S,s,i,!1,null,null,null);A.options.__file="_T-100.vue";e["default"]=A.exports}}]);