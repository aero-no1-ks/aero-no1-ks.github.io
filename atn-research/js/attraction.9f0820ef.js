(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["attraction"],{2097:function(t,e,a){},"272b":function(t,e,a){},4149:function(t,e,a){"use strict";var s=a("2097"),r=a.n(s);r.a},"7bbb":function(t,e,a){"use strict";var s=a("272b"),r=a.n(s);r.a},f2e5:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",{staticClass:"pa-1",attrs:{row:""}},[a("v-flex",{staticClass:"pa-1",attrs:{xs6:!t.large,xs12:t.large,"d-flex":""}},[a("v-card",{staticStyle:{position:"relative"},attrs:{hover:""}},[a("div",{staticClass:"subheading pa-2 grey--text text--darken-2"},[a("v-icon",{staticClass:"subheading bold vertical-middle mr-1",attrs:{color:"grey darken-2"}},[t._v("public")]),a("span",{staticClass:"bold"},[t._v("Flight Route Map")]),t._v(" - Arrivals from "+t._s(t.ap.ap)+"\r\n          "),a("v-btn",{staticClass:"py-0 my-0 primary--text bold",staticStyle:{"margin-top":"-5px !important"},attrs:{small:"",flat:""},on:{click:function(e){t.large=!t.large}}},[a("v-icon",{staticClass:"body-2 mr-1"},[t._v("zoom_out_map")]),t._v("\r\n            "+t._s(t.large?"shrink":"enlarge")+"\r\n          ")],1)],1),a("v-divider"),a("app-map-pane-Arrival",{style:t.largeStyle,attrs:{ap:t.ap,items:t.items,map:t.map,large:t.large,ix:t.ix,selected:t.center,slider:t.slider}}),a("div",{staticStyle:{position:"absolute",bottom:"5px",left:"10px"}},[a("span",{staticClass:"bold"},[t._v("Showing: "+t._s(["Direct","Indirect","Total"][t.ix]))]),a("v-slider",{staticStyle:{"margin-top":"0px"},attrs:{label:"Max # of APs: "+t.slider,"thumb-size":25,"always-dirty":"",max:t.cut,min:"1","hide-details":""},model:{value:t.slider,callback:function(e){t.slider=e},expression:"slider"}})],1)],1)],1),t.large?t._e():a("v-flex",{staticClass:"pa-1",attrs:{xs6:"","d-flex":""}},[a("v-card",{staticClass:"text-xs-center title pb-1"},[a("div",{staticClass:"subheading mb-2 px-2 pt-2 pb-2 grey--text text--darken-2 text-xs-center"},[a("v-icon",{staticClass:"subheading bold vertical-middle mr-1",attrs:{color:"grey darken-2"}},[t._v("navigation")]),a("span",{staticClass:"bold"},[t._v("Top "+t._s(t.cut)+' hubs "TO" '+t._s(t.ap.ap))])],1),a("v-divider"),a("v-layout",{staticClass:"mx-1 mt-1",attrs:{row:""}},t._l(t.items,function(e,s){return a("v-flex",{key:s,staticClass:"pa-1"},[a("v-card",{attrs:{hover:""}},[a("v-data-table",{attrs:{headers:t.getHeaders(["Direct","Indirect","Total"][s]),items:e,"hide-actions":"","disable-initial-sort":""},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"text-xs-center",style:t.selectedStyle(e),on:{click:function(a){t.onClick(e,s)}}},[t._v(t._s(e.item.ap))]),a("td",{staticClass:"text-xs-left",style:t.selectedStyle(e),on:{click:function(a){t.onClick(e,s)}}},[t._v(t._s(e.item.tau))])]}}])})],1)],1)}))],1)],1)],1)],1)},r=[],i=a("2f62"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"echartsMap",staticStyle:{width:"100%",height:"100%"}})},o=[],n=a("313e"),c=a.n(n),p=(a("7cb2"),a("1d1c")),d=a("f711"),u=a.n(d),h=a("974d");const m=["#EC407A","#AB47BC","#42A5F5","#4DB6AC","#66BB6A","#FFEE58","#FFA726","#A1887F","#BDBDBD"];var v={props:["ap","items","map","large","ix","selected","slider"],data:()=>({chart:""}),computed:{topItems(){return _.slice(this.items[this.ix],0,this.slider)},center(){return this.ap.ap}},methods:{drawChart2d(t="usa"){const e="path://M1705.06,1318.313v-89.254l-319.9-221.799l0.073-208.063c0.521-84.662-26.629-121.796-63.961-121.491c-37.332-0.305-64.482,36.829-63.961,121.491l0.073,208.063l-319.9,221.799v89.254l330.343-157.288l12.238,241.308l-134.449,92.931l0.531,42.034l175.125-42.917l175.125,42.917l0.531-42.034l-134.449-92.931l12.238-241.308L1705.06,1318.313z",a=[{name:this.center,type:"effectScatter",coordinateSystem:"geo",rippleEffect:{brushType:"stroke"},label:{normal:{show:!0,position:"right",formatter:"{b}",distance:10}},symbolSize(t){return t[2]/4},itemStyle:{normal:{color:this.$vuetify.theme.primary}},tooltip:{formatter:`{b} - ${this.ap.tau}`},data:[{name:this.center,value:[...this.getCoords(this.center),100]}]},..._.map(this.topItems,(t,e)=>({name:t.ap,type:"effectScatter",coordinateSystem:"geo",rippleEffect:{brushType:"stroke"},label:{normal:{show:!0,position:"right",formatter:"{b}",distance:10}},symbolSize(t){return t[2]/4},itemStyle:{normal:{color:m[e]}},tooltip:{formatter:`{b} - ${t.tau}`},data:[{name:t.ap,value:[...this.getCoords(t.ap),_.max([30+t.tau.split(" ")[0]/this.ap.tau*100])]}]})),..._.map(this.topItems,(t,a)=>({name:t.ap,type:"lines",symbol:["none","arrow"],symbolSize:10,effect:{show:!0,period:6,trailLength:0,symbol:e,symbolSize:15},lineStyle:{color:m[a],width:1+t.tau.split(" ")[0]/this.ap.tau*50,curveness:0,opacity:.5},data:this.convertData(this.center,t.ap,a,t)}))],s={textStyle:{fontFamily:"Poppins, sans-serif",fontSize:14,fontWeight:"bold"},backgroundColor:"#FEFEFE",tooltip:{trigger:"item"},legend:{orient:"horizontal",top:5,right:5,data:_.map(this.topItems,"ap"),textStyle:{color:"#222",selectedMode:"single",fontSize:12}},geo:{map:t,label:{emphasis:{show:!1}},center:this.getCoords(this.center),roam:!0,zoom:1.7,itemStyle:{normal:{areaColor:"#EEE",borderColor:"#404a59"},emphasis:{areaColor:"#2a333d"}}},series:a};this.chart.setOption(s,!0)},getCoords(t){const e=_.find(h["a"],e=>e.code===t);return[e.lon,e.lat]},convertData(t,e,a,s){const r=e||this.center,i=this.getCoords(r),l=this.getCoords(t);return[{fromName:r,toName:t,coords:[i,l]}]},onOpen(t){window.open(t)}},watch:{topItems(t){this.drawChart2d()},large(t){_.delay(this.chart.resize,200)},map(t){this.drawChart2d(t?"world":"usa")}},created(){},beforeMount(){c.a.registerMap("usa",p["a"]),c.a.registerMap("world",u.a)},mounted(){_.delay(()=>{this.chart=c.a.init(this.$refs.echartsMap),this.drawChart2d(),window.addEventListener("resize",debounce(this.chart.resize,200))},1)}},b=v,f=(a("4149"),a("2877")),g=Object(f["a"])(b,l,o,!1,null,"408d2f8c",null);g.options.__file="MapPaneArrival.vue";var y=g.exports,x={data:()=>({apIx:0,ix:0,cut:10,map:!1,large:!1,center:"",sw:!1,selected:-1,slider:10}),computed:{...Object(i["b"])(["aaa"]),ap(){return hubDataSetArrival[this.apIx]},items(){const t=hubDataSetArrival[this.apIx];return[_.slice(_.map(t.stopx,e=>({ap:e.ap,tau:`${e.tau} (${_.round(e.tau/t.tau*100,2)}%)`})),0,this.cut),_.slice(_.map(t.stopy,e=>({ap:e.ap,tau:`${e.tau} (${_.round(e.tau/t.tau*100,2)}%)`})),0,this.cut),_.slice(_.map(t.total,e=>({ap:e.ap,tau:`${e.tau} (${_.round(e.tau/t.tau*100,2)}%)`})),0,this.cut)]},largeStyle(){return{height:this.large?"calc(100vh - 48px - 56px)":"45vh"}}},methods:{getHeaders(t){return[{text:t,value:"ap",sortable:!1,align:"center"},{text:"Volume (Ratio)",value:"tau",sortable:!1,align:"left"}]},onClick(t,e){this.ix=e,this.center=t.item.ap},selectedStyle(t){return this.center!==t.item.ap?{}:{background:"#90CAF9"}}},watch:{aaa(t){const e=_.findIndex(hubDataSetArrival,e=>e.ap===t);e>=0&&(this.apIx=e)}},created(){},components:{"app-map-pane-Arrival":y}},C=x,S=(a("7bbb"),Object(f["a"])(C,s,r,!1,null,null,null));S.options.__file="_Attraction.vue";e["default"]=S.exports}}]);